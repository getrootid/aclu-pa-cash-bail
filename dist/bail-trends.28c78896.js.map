{"mappings":"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","sources":["<anon>","src/js/bail-trends.js"],"sourcesContent":["\n      var $parcel$global = globalThis;\n    \nvar $parcel$modules = {};\nvar $parcel$inits = {};\n\nvar parcelRequire = $parcel$global[\"parcelRequireae46\"];\n\nif (parcelRequire == null) {\n  parcelRequire = function(id) {\n    if (id in $parcel$modules) {\n      return $parcel$modules[id].exports;\n    }\n    if (id in $parcel$inits) {\n      var init = $parcel$inits[id];\n      delete $parcel$inits[id];\n      var module = {id: id, exports: {}};\n      $parcel$modules[id] = module;\n      init.call(module.exports, module, module.exports);\n      return module.exports;\n    }\n    var err = new Error(\"Cannot find module '\" + id + \"'\");\n    err.code = 'MODULE_NOT_FOUND';\n    throw err;\n  };\n\n  parcelRequire.register = function register(id, init) {\n    $parcel$inits[id] = init;\n  };\n\n  $parcel$global[\"parcelRequireae46\"] = parcelRequire;\n}\n\nvar parcelRegister = parcelRequire.register;\n\nvar $9NlP8 = parcelRequire(\"9NlP8\");\n\nvar $ge6e3 = parcelRequire(\"ge6e3\");\n\nvar $9nP1d = parcelRequire(\"9nP1d\");\n\nvar $iZIRD = parcelRequire(\"iZIRD\");\n\nvar $fzFsw = parcelRequire(\"fzFsw\");\n\nvar $gnvXE = parcelRequire(\"gnvXE\");\n\nvar $8WpX6 = parcelRequire(\"8WpX6\");\n/* TABLE CREATION FUNCTIONS */ const $56f333abfe41cbc1$var$createBailRateTable = ()=>{\n    const columnConfigs = [\n        {\n            class: \"county-name-cell\",\n            header: {\n                text: \"\",\n                unit: \"\"\n            },\n            sortable: false,\n            searchable: true\n        },\n        {\n            class: \"viz-cell\",\n            header: {\n                start: 0,\n                end: 0.6,\n                averages: [\n                    {\n                        name: \"Avg.\",\n                        value: (0, $gnvXE.STATE_DATA)[\"cash_bail_pct\"]\n                    }\n                ],\n                unit: \"percent\",\n                showDiff: false\n            },\n            sortable: false,\n            searchable: false\n        },\n        {\n            class: \"bail-rate-cell number-cell\",\n            header: {\n                text: \"Cash\\xa0Rate\",\n                unit: \"percent\"\n            },\n            sortable: true,\n            searchable: false\n        },\n        {\n            class: \"bail-cases-cell number-cell\",\n            header: {\n                text: \"Cash\\xa0Cases\",\n                unit: \"number\"\n            },\n            sortable: true,\n            searchable: false\n        },\n        {\n            class: \"total-cases-cell number-cell\",\n            header: {\n                text: \"Total\",\n                unit: \"number\"\n            },\n            sortable: true,\n            searchable: false\n        }\n    ];\n    const initSort = {\n        col: 2,\n        dir: -1\n    }; // initially sort by cash bail rate\n    const stateData = [\n        \"Pennsylvania\",\n        {\n            type: \"bar\",\n            values: [\n                (0, $gnvXE.STATE_DATA)[\"cash_bail_pct\"]\n            ]\n        },\n        (0, $gnvXE.STATE_DATA)[\"cash_bail_pct\"],\n        (0, $gnvXE.STATE_DATA)[\"cash_bail_cases\"],\n        (0, $gnvXE.STATE_DATA)[\"total_cases\"]\n    ];\n    const tableContainer = document.getElementById(\"bail-rate-container\");\n    return new (0, $9nP1d.Table)((0, $8WpX6.BAIL_RATE_DATA), columnConfigs, initSort, tableContainer, stateData, false);\n};\nconst $56f333abfe41cbc1$var$createRorRateTable = ()=>{\n    const columnConfigs = [\n        {\n            class: \"county-name-cell\",\n            header: {\n                text: \"\",\n                unit: \"\"\n            },\n            sortable: false,\n            searchable: true\n        },\n        {\n            class: \"viz-cell\",\n            header: {\n                start: 0,\n                end: 0.75,\n                averages: [\n                    {\n                        name: \"Avg.\",\n                        value: (0, $gnvXE.STATE_DATA)[\"ror_pct\"]\n                    }\n                ],\n                unit: \"percent\",\n                showDiff: false\n            },\n            sortable: false,\n            searchable: false\n        },\n        {\n            class: \"ror-rate-cell number-cell\",\n            header: {\n                text: \"ROR\\xa0Rate\",\n                unit: \"percent\"\n            },\n            sortable: true,\n            searchable: false\n        },\n        {\n            class: \"ror-cases-cell number-cell\",\n            header: {\n                text: \"ROR\\xa0Cases\",\n                unit: \"number\"\n            },\n            sortable: true,\n            searchable: false\n        },\n        {\n            class: \"total-cases-cell number-cell\",\n            header: {\n                text: \"Total\",\n                unit: \"number\"\n            },\n            sortable: true,\n            searchable: false\n        }\n    ];\n    const initSort = {\n        col: 2,\n        dir: -1\n    }; // initially sort by ror bail rate\n    const stateData = [\n        \"Pennsylvania\",\n        {\n            type: \"bar\",\n            values: [\n                (0, $gnvXE.STATE_DATA)[\"ror_pct\"]\n            ]\n        },\n        (0, $gnvXE.STATE_DATA)[\"ror_pct\"],\n        (0, $gnvXE.STATE_DATA)[\"ror_cases\"],\n        (0, $gnvXE.STATE_DATA)[\"total_cases\"]\n    ];\n    const tableContainer = document.getElementById(\"ror-rate-container\");\n    return new (0, $9nP1d.Table)((0, $8WpX6.ROR_RATE_DATA), columnConfigs, initSort, tableContainer, stateData, false);\n};\nconst $56f333abfe41cbc1$var$createBailPostingTable = ()=>{\n    const columnConfigs = [\n        {\n            class: \"county-name-cell\",\n            header: {\n                text: \"\",\n                unit: \"\"\n            },\n            sortable: false,\n            searchable: true\n        },\n        {\n            class: \"bail-amount-cell number-cell\",\n            header: {\n                text: \"Bail Set\",\n                unit: \"dollars\"\n            },\n            sortable: true,\n            searchable: false\n        },\n        {\n            class: \"nonposting-rate-cell number-cell\",\n            header: {\n                text: \"Non-Posting Rt.\",\n                unit: \"percent\"\n            },\n            sortable: true,\n            searchable: false\n        },\n        {\n            class: \"total-cases-cell number-cell\",\n            header: {\n                text: \"Total Cases\",\n                unit: \"number\"\n            },\n            sortable: true,\n            searchable: false\n        }\n    ];\n    const initSort = {\n        col: 2,\n        dir: -1\n    };\n    const stateData = [\n        \"Pennsylvania\",\n        (0, $gnvXE.STATE_DATA)[\"avg_bail_amount\"],\n        (0, $gnvXE.STATE_DATA)[\"non_posting_rate\"],\n        (0, $gnvXE.STATE_DATA)[\"total_cases\"]\n    ];\n    const tableContainer = document.getElementById(\"bail-posting-container\");\n    return new (0, $9nP1d.Table)((0, $8WpX6.BAIL_POSTING_DATA), columnConfigs, initSort, tableContainer, stateData);\n};\n/* PLOT CREATION FUNCTIONS */ const $56f333abfe41cbc1$var$createCasesScatterPlot = ()=>{\n    const xAxis = {\n        name: \"Cash Bail Rate\",\n        min: 0.2,\n        max: 0.6,\n        numTicks: 4,\n        convert: (value)=>(0, $ge6e3.toPercent)(value, 0)\n    };\n    const yAxis = {\n        name: \"Bail Amount\",\n        min: 0,\n        max: 110000,\n        numTicks: 9,\n        convert: (value)=>(0, $ge6e3.toMoney)(value, 0)\n    };\n    const tooltipConfig = {\n        rows: [\n            {\n                rowHeader: \"Cash Bail Rate\",\n                dataKey: \"x\",\n                render: (value)=>(0, $ge6e3.toPercent)(value)\n            },\n            {\n                rowHeader: \"Median Bail Amount\",\n                dataKey: \"y\",\n                render: (value)=>(0, $ge6e3.toMoney)(value, 0, true, false)\n            },\n            {\n                rowHeader: \"Total Cases\",\n                dataKey: \"r\",\n                render: (value)=>(0, $ge6e3.toNumberString)(value, {\n                        minimumFractionDigits: 0,\n                        maximumFractionDigits: 0\n                    })\n            }\n        ]\n    };\n    const DESKTOP_100_CASES_PX = 4; // 100 total cash bail cases === 4px radius circle for desktop screens\n    const DESKTOP_25K_CASES_PX = 35; // 25,000 total cash bail cases === 40px radius circle for desktop screens\n    const MOBILE_100_CASES_PX = 4; // 100 total cash bail cases === 4px radius circle for mobile screens\n    const MOBILE_25K_CASES_PX = 21; // 25,000 total cash bail cases === 20px radius circle for mobile screens\n    /* The scaleSqrt scale is useful for sizing circles by area (rather than radius).\r\n     (When using circle size to represent data, it’s considered better practice to set the area,\r\n     rather than the radius proportionally to the data.)\r\n     https://eagereyes.org/blog/2008/linear-vs-quadratic-change\r\n  */ const desktopScale = $9NlP8.scaleSqrt().domain([\n        100,\n        25000\n    ]) // values used in legend\n    .range([\n        DESKTOP_100_CASES_PX,\n        DESKTOP_25K_CASES_PX\n    ]);\n    const mobileScale = $9NlP8.scaleSqrt().domain([\n        100,\n        25000\n    ]) // values used in legend\n    .range([\n        MOBILE_100_CASES_PX,\n        MOBILE_25K_CASES_PX\n    ]);\n    const radiusScale = {\n        desktop: desktopScale,\n        mobile: mobileScale\n    };\n    const PLOT_DATA = (0, $gnvXE.COUNTY_DATA).reduce((acc, countyData)=>({\n            ...acc,\n            [countyData.name]: {\n                showName: false,\n                x: countyData[\"cash_bail_pct\"],\n                r: countyData[\"cash_bail_cases\"],\n                y: countyData[\"avg_bail_amount\"]\n            }\n        }), {});\n    PLOT_DATA[\"State Average\"] = {\n        showLines: true,\n        tooltipConfig: {\n            rows: [\n                {\n                    rowHeader: \"Cash Bail Rate\",\n                    dataKey: \"x\",\n                    render: (value)=>(0, $ge6e3.toPercent)(value)\n                },\n                {\n                    rowHeader: \"Median Bail Amount\",\n                    dataKey: \"y\",\n                    render: (value)=>(0, $ge6e3.toMoney)(value, 0, true, false)\n                }\n            ]\n        },\n        x: (0, $gnvXE.STATE_DATA)[\"cash_bail_pct\"],\n        y: (0, $gnvXE.STATE_DATA)[\"avg_bail_amount\"]\n    };\n    const container = document.getElementById(\"cases-scatter-plot\");\n    return new (0, $fzFsw.ScatterPlot)(PLOT_DATA, xAxis, yAxis, radiusScale, tooltipConfig, container);\n};\nconst $56f333abfe41cbc1$var$createAvgBailAmountBarChart = ()=>{\n    const xAxis = {\n        name: \"MEDIAN BAIL AMOUNT\",\n        min: 3000,\n        max: 80000,\n        numTicks: 7,\n        convert: (value)=>(0, $ge6e3.toMoney)(value, 0)\n    };\n    const tooltipConfig = {\n        rows: [\n            {\n                rowHeader: \"Median bail amount\",\n                dataKey: \"x\",\n                render: (value)=>(0, $ge6e3.toMoney)(value)\n            }\n        ],\n        placement: \"top\",\n        followCursor: true\n    };\n    const data = (0, $gnvXE.COUNTY_DATA).map((countyData)=>({\n            name: countyData[\"name\"],\n            x: countyData[\"avg_bail_amount\"]\n        }));\n    const container = document.getElementById(\"avg-bail-graph-container\");\n    return new (0, $fzFsw.CountyBarChart)(data, xAxis, tooltipConfig, container);\n};\n/* RENDER TABLES */ const $56f333abfe41cbc1$var$bailRateTable = $56f333abfe41cbc1$var$createBailRateTable();\nconst $56f333abfe41cbc1$var$rorRateTable = $56f333abfe41cbc1$var$createRorRateTable();\nconst $56f333abfe41cbc1$var$rateTableContainer = document.getElementById(\"rate-table-container\");\nnew (0, $9nP1d.SwitchableTable)($56f333abfe41cbc1$var$bailRateTable, $56f333abfe41cbc1$var$rorRateTable, $56f333abfe41cbc1$var$rateTableContainer);\n$56f333abfe41cbc1$var$createBailPostingTable();\n/* RENDER MAPS */ const $56f333abfe41cbc1$var$cashBailRateMap = new (0, $iZIRD.BailRateMap)(\"cash-bail-rate\", (0, $8WpX6.BAIL_RATE_MAP_DATA), \"cashBailRate\", (0, $gnvXE.STATE_DATA)[\"cash_bail_pct\"], \"Cash Bail Rate\");\nconst $56f333abfe41cbc1$var$rorRateMap = new (0, $iZIRD.BailRateMap)(\"ror-rate\", (0, $8WpX6.BAIL_RATE_MAP_DATA), \"rorRate\", (0, $gnvXE.STATE_DATA)[\"ror_pct\"], \"ROR Rate\");\nconst $56f333abfe41cbc1$var$rateChloroplethContainer = document.getElementById(\"rate-chloropleth-container\");\nnew (0, $iZIRD.SwitchableMap)($56f333abfe41cbc1$var$cashBailRateMap, $56f333abfe41cbc1$var$rorRateMap, $56f333abfe41cbc1$var$rateChloroplethContainer);\n/* RENDER GRAPHS */ $56f333abfe41cbc1$var$createCasesScatterPlot();\n$56f333abfe41cbc1$var$createAvgBailAmountBarChart();\nconst $56f333abfe41cbc1$var$headerConfig = [\n    {\n        title: \"Cash Bail\",\n        className: \"cash-bar\",\n        render: (value)=>(0, $ge6e3.toPercent)(value)\n    },\n    {\n        title: \"Unsecured\",\n        className: \"unsecured-bar\",\n        render: (value)=>(0, $ge6e3.toPercent)(value)\n    },\n    {\n        title: \"ROR\",\n        className: \"ror-bar\",\n        render: (value)=>(0, $ge6e3.toPercent)(value)\n    },\n    {\n        title: \"Nonmonetary\",\n        className: \"nonmonetary-bar\",\n        render: (value)=>(0, $ge6e3.toPercent)(value)\n    },\n    {\n        title: \"Nominal\",\n        className: \"nominal-bar\",\n        render: (value)=>(0, $ge6e3.toPercent)(value)\n    },\n    {\n        title: \"Denial\",\n        className: \"denied-bar\",\n        render: (value)=>(0, $ge6e3.toPercent)(value)\n    }\n];\nnew (0, $fzFsw.DistributionGraph)(document.getElementById(\"dist-graph-container\"), (0, $8WpX6.COUNTY_BAIL_TYPE_DATA), $56f333abfe41cbc1$var$headerConfig);\n\n\n//# sourceMappingURL=bail-trends.28c78896.js.map\n","import * as d3 from \"d3\";\r\nimport { toMoney, toPercent, toNumberString } from \"./helpers\";\r\nimport { Table, SwitchableTable } from \"./classes/Table.js\";\r\nimport { BailRateMap, SwitchableMap } from \"./classes/Map.js\";\r\nimport {\r\n  ScatterPlot,\r\n  DistributionGraph,\r\n  CountyBarChart\r\n} from \"./classes/Graph.js\";\r\nimport { STATE_DATA, COUNTY_DATA } from \"./raw-data.js\";\r\nimport {\r\n  BAIL_RATE_DATA,\r\n  ROR_RATE_DATA,\r\n  BAIL_POSTING_DATA,\r\n  COUNTY_BAIL_TYPE_DATA,\r\n  BAIL_RATE_MAP_DATA\r\n} from \"./data\";\r\n\r\n/* TABLE CREATION FUNCTIONS */\r\nconst createBailRateTable = () => {\r\n  const columnConfigs = [\r\n    {\r\n      class: \"county-name-cell\",\r\n      header: {\r\n        text: \"\",\r\n        unit: \"\"\r\n      },\r\n      sortable: false,\r\n      searchable: true\r\n    },\r\n    {\r\n      class: \"viz-cell\",\r\n      header: {\r\n        start: 0,\r\n        end: 0.6,\r\n        averages: [\r\n          {\r\n            name: \"Avg.\",\r\n            value: STATE_DATA[\"cash_bail_pct\"]\r\n          }\r\n        ],\r\n        unit: \"percent\",\r\n        showDiff: false\r\n      },\r\n      sortable: false,\r\n      searchable: false\r\n    },\r\n    {\r\n      class: \"bail-rate-cell number-cell\",\r\n      header: {\r\n        text: \"Cash\\xa0Rate\",\r\n        unit: \"percent\"\r\n      },\r\n      sortable: true,\r\n      searchable: false\r\n    },\r\n    {\r\n      class: \"bail-cases-cell number-cell\",\r\n      header: {\r\n        text: \"Cash\\xa0Cases\",\r\n        unit: \"number\"\r\n      },\r\n      sortable: true,\r\n      searchable: false\r\n    },\r\n    {\r\n      class: \"total-cases-cell number-cell\",\r\n      header: {\r\n        text: \"Total\",\r\n        unit: \"number\"\r\n      },\r\n      sortable: true,\r\n      searchable: false\r\n    }\r\n  ];\r\n  const initSort = { col: 2, dir: -1 }; // initially sort by cash bail rate\r\n  const stateData = [\r\n    \"Pennsylvania\",\r\n    {\r\n      type: \"bar\",\r\n      values: [STATE_DATA[\"cash_bail_pct\"]]\r\n    },\r\n    STATE_DATA[\"cash_bail_pct\"],\r\n    STATE_DATA[\"cash_bail_cases\"],\r\n    STATE_DATA[\"total_cases\"]\r\n  ];\r\n\r\n  const tableContainer = document.getElementById(\"bail-rate-container\");\r\n  return new Table(\r\n    BAIL_RATE_DATA,\r\n    columnConfigs,\r\n    initSort,\r\n    tableContainer,\r\n    stateData,\r\n    false\r\n  );\r\n};\r\n\r\nconst createRorRateTable = () => {\r\n  const columnConfigs = [\r\n    {\r\n      class: \"county-name-cell\",\r\n      header: {\r\n        text: \"\",\r\n        unit: \"\"\r\n      },\r\n      sortable: false,\r\n      searchable: true\r\n    },\r\n    {\r\n      class: \"viz-cell\",\r\n      header: {\r\n        start: 0,\r\n        end: 0.75,\r\n        averages: [\r\n          {\r\n            name: \"Avg.\",\r\n            value: STATE_DATA[\"ror_pct\"]\r\n          }\r\n        ],\r\n        unit: \"percent\",\r\n        showDiff: false\r\n      },\r\n      sortable: false,\r\n      searchable: false\r\n    },\r\n    {\r\n      class: \"ror-rate-cell number-cell\",\r\n      header: {\r\n        text: \"ROR\\xa0Rate\",\r\n        unit: \"percent\"\r\n      },\r\n      sortable: true,\r\n      searchable: false\r\n    },\r\n    {\r\n      class: \"ror-cases-cell number-cell\",\r\n      header: {\r\n        text: \"ROR\\xa0Cases\",\r\n        unit: \"number\"\r\n      },\r\n      sortable: true,\r\n      searchable: false\r\n    },\r\n    {\r\n      class: \"total-cases-cell number-cell\",\r\n      header: {\r\n        text: \"Total\",\r\n        unit: \"number\"\r\n      },\r\n      sortable: true,\r\n      searchable: false\r\n    }\r\n  ];\r\n  const initSort = { col: 2, dir: -1 }; // initially sort by ror bail rate\r\n  const stateData = [\r\n    \"Pennsylvania\",\r\n    {\r\n      type: \"bar\",\r\n      values: [STATE_DATA[\"ror_pct\"]]\r\n    },\r\n    STATE_DATA[\"ror_pct\"],\r\n    STATE_DATA[\"ror_cases\"],\r\n    STATE_DATA[\"total_cases\"]\r\n  ];\r\n\r\n  const tableContainer = document.getElementById(\"ror-rate-container\");\r\n  return new Table(\r\n    ROR_RATE_DATA,\r\n    columnConfigs,\r\n    initSort,\r\n    tableContainer,\r\n    stateData,\r\n    false\r\n  );\r\n};\r\n\r\nconst createBailPostingTable = () => {\r\n  const columnConfigs = [\r\n    {\r\n      class: \"county-name-cell\",\r\n      header: {\r\n        text: \"\",\r\n        unit: \"\"\r\n      },\r\n      sortable: false,\r\n      searchable: true\r\n    },\r\n    {\r\n      class: \"bail-amount-cell number-cell\",\r\n      header: {\r\n        text: \"Bail Set\",\r\n        unit: \"dollars\"\r\n      },\r\n      sortable: true,\r\n      searchable: false\r\n    },\r\n    {\r\n      class: \"nonposting-rate-cell number-cell\",\r\n      header: {\r\n        text: \"Non-Posting Rt.\",\r\n        unit: \"percent\"\r\n      },\r\n      sortable: true,\r\n      searchable: false\r\n    },\r\n    {\r\n      class: \"total-cases-cell number-cell\",\r\n      header: {\r\n        text: \"Total Cases\",\r\n        unit: \"number\"\r\n      },\r\n      sortable: true,\r\n      searchable: false\r\n    }\r\n  ];\r\n  const initSort = { col: 2, dir: -1 };\r\n  const stateData = [\r\n    \"Pennsylvania\",\r\n    STATE_DATA[\"avg_bail_amount\"],\r\n    STATE_DATA[\"non_posting_rate\"],\r\n    STATE_DATA[\"total_cases\"]\r\n  ];\r\n\r\n  const tableContainer = document.getElementById(\"bail-posting-container\");\r\n  return new Table(\r\n    BAIL_POSTING_DATA,\r\n    columnConfigs,\r\n    initSort,\r\n    tableContainer,\r\n    stateData\r\n  );\r\n};\r\n\r\n/* PLOT CREATION FUNCTIONS */\r\nconst createCasesScatterPlot = () => {\r\n  const xAxis = {\r\n    name: \"Cash Bail Rate\",\r\n    min: 0.2,\r\n    max: 0.6,\r\n    numTicks: 4,\r\n    convert: (value) => toPercent(value, 0)\r\n  };\r\n  const yAxis = {\r\n    name: \"Bail Amount\",\r\n    min: 0,\r\n    max: 110000,\r\n    numTicks: 9,\r\n    convert: (value) => toMoney(value, 0)\r\n  };\r\n\r\n  const tooltipConfig = {\r\n    rows: [\r\n      {\r\n        rowHeader: \"Cash Bail Rate\",\r\n        dataKey: \"x\",\r\n        render: (value) => toPercent(value)\r\n      },\r\n      {\r\n        rowHeader: \"Median Bail Amount\",\r\n        dataKey: \"y\",\r\n        render: (value) => toMoney(value, 0, true, false)\r\n      },\r\n      {\r\n        rowHeader: \"Total Cases\",\r\n        dataKey: \"r\",\r\n        render: (value) =>\r\n          toNumberString(value, {\r\n            minimumFractionDigits: 0,\r\n            maximumFractionDigits: 0\r\n          })\r\n      }\r\n    ]\r\n  };\r\n\r\n  const DESKTOP_100_CASES_PX = 4; // 100 total cash bail cases === 4px radius circle for desktop screens\r\n  const DESKTOP_25K_CASES_PX = 35; // 25,000 total cash bail cases === 40px radius circle for desktop screens\r\n  const MOBILE_100_CASES_PX = 4; // 100 total cash bail cases === 4px radius circle for mobile screens\r\n  const MOBILE_25K_CASES_PX = 21; // 25,000 total cash bail cases === 20px radius circle for mobile screens\r\n\r\n  /* The scaleSqrt scale is useful for sizing circles by area (rather than radius).\r\n     (When using circle size to represent data, it’s considered better practice to set the area,\r\n     rather than the radius proportionally to the data.)\r\n     https://eagereyes.org/blog/2008/linear-vs-quadratic-change\r\n  */\r\n\r\n  const desktopScale = d3\r\n    .scaleSqrt()\r\n    .domain([100, 25000]) // values used in legend\r\n    .range([DESKTOP_100_CASES_PX, DESKTOP_25K_CASES_PX]);\r\n\r\n  const mobileScale = d3\r\n    .scaleSqrt()\r\n    .domain([100, 25000]) // values used in legend\r\n    .range([MOBILE_100_CASES_PX, MOBILE_25K_CASES_PX]);\r\n\r\n  const radiusScale = {\r\n    desktop: desktopScale,\r\n    mobile: mobileScale\r\n  };\r\n\r\n  const PLOT_DATA = COUNTY_DATA.reduce(\r\n    (acc, countyData) => ({\r\n      ...acc,\r\n      [countyData.name]: {\r\n        showName: false,\r\n        x: countyData[\"cash_bail_pct\"],\r\n        r: countyData[\"cash_bail_cases\"],\r\n        y: countyData[\"avg_bail_amount\"]\r\n      }\r\n    }),\r\n    {}\r\n  );\r\n  PLOT_DATA[\"State Average\"] = {\r\n    showLines: true,\r\n    tooltipConfig: {\r\n      rows: [\r\n        {\r\n          rowHeader: \"Cash Bail Rate\",\r\n          dataKey: \"x\",\r\n          render: (value) => toPercent(value)\r\n        },\r\n        {\r\n          rowHeader: \"Median Bail Amount\",\r\n          dataKey: \"y\",\r\n          render: (value) => toMoney(value, 0, true, false)\r\n        }\r\n      ]\r\n    },\r\n    x: STATE_DATA[\"cash_bail_pct\"],\r\n    y: STATE_DATA[\"avg_bail_amount\"]\r\n  };\r\n  const container = document.getElementById(\"cases-scatter-plot\");\r\n  return new ScatterPlot(\r\n    PLOT_DATA,\r\n    xAxis,\r\n    yAxis,\r\n    radiusScale,\r\n    tooltipConfig,\r\n    container\r\n  );\r\n};\r\n\r\nconst createAvgBailAmountBarChart = () => {\r\n  const xAxis = {\r\n    name: \"MEDIAN BAIL AMOUNT\",\r\n    min: 3000,\r\n    max: 80000,\r\n    numTicks: 7,\r\n    convert: (value) => toMoney(value, 0)\r\n  };\r\n\r\n  const tooltipConfig = {\r\n    rows: [\r\n      {\r\n        rowHeader: \"Median bail amount\",\r\n        dataKey: \"x\",\r\n        render: (value) => toMoney(value)\r\n      },\r\n      // {\r\n      //   rowHeader: \"Non-posting rate\",\r\n      //   dataKey: \"y\",\r\n      //   render: (value) => toPercent(value)\r\n      // }\r\n    ],\r\n    placement: \"top\",\r\n    followCursor: true\r\n  };\r\n\r\n\r\n  const data = COUNTY_DATA.map((countyData) => ({\r\n    name: countyData[\"name\"],\r\n    x: countyData[\"avg_bail_amount\"],\r\n    // y: countyData[\"non_posting_rate\"],\r\n    // highlighted: countyData[\"non_posting_rate\"] > 0.5\r\n  }));\r\n\r\n  const container = document.getElementById(\"avg-bail-graph-container\");\r\n  return new CountyBarChart(data, xAxis, tooltipConfig, container);\r\n};\r\n\r\n/* RENDER TABLES */\r\nconst bailRateTable = createBailRateTable();\r\nconst rorRateTable = createRorRateTable();\r\nconst rateTableContainer = document.getElementById(\"rate-table-container\");\r\nnew SwitchableTable(bailRateTable, rorRateTable, rateTableContainer);\r\ncreateBailPostingTable();\r\n\r\n/* RENDER MAPS */\r\nconst cashBailRateMap = new BailRateMap(\r\n  \"cash-bail-rate\",\r\n  BAIL_RATE_MAP_DATA,\r\n  \"cashBailRate\",\r\n  STATE_DATA[\"cash_bail_pct\"],\r\n  \"Cash Bail Rate\"\r\n);\r\nconst rorRateMap = new BailRateMap(\r\n  \"ror-rate\",\r\n  BAIL_RATE_MAP_DATA,\r\n  \"rorRate\",\r\n  STATE_DATA[\"ror_pct\"],\r\n  \"ROR Rate\"\r\n);\r\nconst rateChloroplethContainer = document.getElementById(\r\n  \"rate-chloropleth-container\"\r\n);\r\n\r\nnew SwitchableMap(cashBailRateMap, rorRateMap, rateChloroplethContainer);\r\n\r\n/* RENDER GRAPHS */\r\ncreateCasesScatterPlot();\r\ncreateAvgBailAmountBarChart();\r\nconst headerConfig = [\r\n  {\r\n    title: \"Cash Bail\",\r\n    className: \"cash-bar\",\r\n    render: (value) => toPercent(value)\r\n  },\r\n  {\r\n    title: \"Unsecured\",\r\n    className: \"unsecured-bar\",\r\n    render: (value) => toPercent(value)\r\n  },\r\n  {\r\n    title: \"ROR\",\r\n    className: \"ror-bar\",\r\n    render: (value) => toPercent(value)\r\n  },\r\n  {\r\n    title: \"Nonmonetary\",\r\n    className: \"nonmonetary-bar\",\r\n    render: (value) => toPercent(value)\r\n  },\r\n  {\r\n    title: \"Nominal\",\r\n    className: \"nominal-bar\",\r\n    render: (value) => toPercent(value)\r\n  },\r\n  {\r\n    title: \"Denial\",\r\n    className: \"denied-bar\",\r\n    render: (value) => toPercent(value)\r\n  }\r\n];\r\n\r\nnew DistributionGraph(\r\n  document.getElementById(\"dist-graph-container\"),\r\n  COUNTY_BAIL_TYPE_DATA,\r\n  headerConfig\r\n);\r\n"],"names":["$parcel$global","globalThis","$parcel$modules","$parcel$inits","parcelRequire","id","exports","init","module","call","err","Error","code","register","$9NlP8","$ge6e3","$9nP1d","$iZIRD","$fzFsw","$gnvXE","$8WpX6","$56f333abfe41cbc1$var$bailRateTable","$56f333abfe41cbc1$var$createBailRateTable","columnConfigs","class","header","text","unit","sortable","searchable","start","end","averages","name","value","STATE_DATA","showDiff","stateData","type","values","tableContainer","document","getElementById","Table","BAIL_RATE_DATA","col","dir","$56f333abfe41cbc1$var$rorRateTable","$56f333abfe41cbc1$var$createRorRateTable","ROR_RATE_DATA","$56f333abfe41cbc1$var$rateTableContainer","SwitchableTable","$56f333abfe41cbc1$var$createBailPostingTable","BAIL_POSTING_DATA","$56f333abfe41cbc1$var$cashBailRateMap","BailRateMap","BAIL_RATE_MAP_DATA","$56f333abfe41cbc1$var$rorRateMap","$56f333abfe41cbc1$var$rateChloroplethContainer","SwitchableMap","$56f333abfe41cbc1$var$createCasesScatterPlot","desktopScale","scaleSqrt","domain","range","mobileScale","PLOT_DATA","COUNTY_DATA","reduce","acc","countyData","showName","x","r","y","showLines","tooltipConfig","rows","rowHeader","dataKey","render","toPercent","toMoney","container","ScatterPlot","min","max","numTicks","convert","desktop","mobile","toNumberString","minimumFractionDigits","maximumFractionDigits","$56f333abfe41cbc1$var$createAvgBailAmountBarChart","data","map","CountyBarChart","placement","followCursor","$56f333abfe41cbc1$var$headerConfig","title","className","DistributionGraph","COUNTY_BAIL_TYPE_DATA"],"version":3,"file":"bail-trends.28c78896.js.map"}